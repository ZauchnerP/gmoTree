<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>gmoTree Codebooks • gmoTree</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="gmoTree Codebooks">
<meta name="google-site-verification" content="lSXl2iW6yiG0KPKAVlugjOAsjyhyaTkj3xAgH0Tj_L0">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gmoTree</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/codebook.html">gmoTree Codebooks</a></li>
    <li><a class="dropdown-item" href="../articles/intro_to_gmoTree.html">Introduction to gmoTree</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ZauchnerP/gmoTree/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>gmoTree Codebooks</h1>
                        <h4 data-toc-skip class="author">Patricia F.
Zauchner</h4>
            
            <h4 data-toc-skip class="date">2023-09-21 (updated:
2024-12-06)</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ZauchnerP/gmoTree/blob/HEAD/vignettes/codebook.Rmd" class="external-link"><code>vignettes/codebook.Rmd</code></a></small>
      <div class="d-none name"><code>codebook.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The <code>gmoTree</code> package provides tools for generating
codebooks based on data from the
<a href="https://www.otree.org/" target="_blank" class="external-link">oTree</a> (Chen et al.,
2016) framework with the function <code><a href="../reference/codebook.html">codebook()</a></code>. This vignette
introduces its key features and functionalities.</p>
<p>Disclaimer: This code has been tested with both custom
implementations and official oTree sample codes.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;The oTree sample codes can be accessed when
&lt;a href="https://otree.readthedocs.io/en/latest/install-nostudio.html#install-nostudio" target="_blank" class="external-link"&gt;setting
up an oTree project&lt;/a&gt; (Chen et al., 2016). All examples presented in
this vignette are based on the official oTree sample code, with minor
modifications to meet the needs of this package.&lt;/p&gt;'><sup>1</sup></a> However, due to the
complexity of oTree setups, it may not address all variations. Please
review your output carefully, and feel free to open a
<a href="https://github.com/ZauchnerP/gmoTree/issues" target="_blank" class="external-link">GitHub
issue</a> if you encounter any problems.</p>
</div>
<div class="section level2">
<h2 id="running-the-code">Running the code<a class="anchor" aria-label="anchor" href="#running-the-code"></a>
</h2>
<p>In its simplest form, the function requires only the path to your
oTree code. The following code reads the contents of your oTree file,
saves a file containing your codebook in your working directory, and
returns a list named <code>cbook</code>, containing the extracted
information.</p>
<pre><code><span><span class="va">cbook</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="st">"D:/pathtoyourproject/oTree_codes"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="codebook-structure-and-output">Codebook structure and output<a class="anchor" aria-label="anchor" href="#codebook-structure-and-output"></a>
</h2>
<p>The output is structured with clear headings:</p>
<ul>
<li>Heading Level 1: Represents each app in the oTree data.</li>
<li>Heading Level 2: <code>Group</code> and <code>Player</code>
variables, categorized within each app. Showing the class
<code>Constants</code> is optional and can be turned off by using the
argument <code>include_cons = FALSE</code>.</li>
</ul>
<p><img src="structure.png" style="border:1px solid" alt="Image showing an example of a heading structure of a PDF file with Level 1 and Level 2 headings"></p>
<p>The example below shows the output for the <code>cournot</code> app,
which includes all <code>Constants</code>, <code>Group</code>, and
<code>Player</code> variables. If a class contains no information, the
heading will still appear, along with the message “Empty class.”</p>
<p><img src="app.png" style="border:1px solid" alt="Image showing the rankaversion app information in the PDF output"></p>
<p>Use <code>output = "list"</code> to bypass file creation. This option
returns all the information in list format, which can then be used in R
Markdown to design a custom codebook. Below is an example of how such a
list output looks like. (The argument <code>doc_info = FALSE</code>
suppresses messages about missing variable documentation.)</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create the codebook list</span></span>
<span><span class="va">cbook</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"extdata/ocode_new"</span>, </span>
<span>                                     package <span class="op">=</span> <span class="st">"gmoTree"</span><span class="op">)</span>, </span>
<span>                  output <span class="op">=</span> <span class="st">"list"</span>, </span>
<span>                  doc_info <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">cbook</span>, <span class="fl">1</span><span class="op">)</span>  <span class="co"># Show all apps </span></span></code></pre></div>
<pre><code><span><span class="co">## List of 16</span></span>
<span><span class="co">##  $ settings            :List of 10</span></span>
<span><span class="co">##  $ bargaining          :List of 4</span></span>
<span><span class="co">##  $ bertrand            :List of 4</span></span>
<span><span class="co">##  $ common_value_auction:List of 4</span></span>
<span><span class="co">##  $ cournot             :List of 4</span></span>
<span><span class="co">##  $ dictator            :List of 4</span></span>
<span><span class="co">##  $ guess_two_thirds    :List of 4</span></span>
<span><span class="co">##  $ matching_pennies    :List of 4</span></span>
<span><span class="co">##  $ payment_info        :List of 4</span></span>
<span><span class="co">##  $ prisoner            :List of 4</span></span>
<span><span class="co">##  $ public_goods_simple :List of 3</span></span>
<span><span class="co">##  $ survey              :List of 3</span></span>
<span><span class="co">##  $ traveler_dilemma    :List of 4</span></span>
<span><span class="co">##  $ trust               :List of 3</span></span>
<span><span class="co">##  $ trust_simple        :List of 3</span></span>
<span><span class="co">##  $ volunteer_dilemma   :List of 4</span></span></code></pre>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">cbook</span><span class="op">$</span><span class="va">cournot</span><span class="op">)</span>  <span class="co"># Only show cournot app</span></span></code></pre></div>
<pre><code><span><span class="co">## $doc</span></span>
<span><span class="co">## [1] "In Cournot competition, firms simultaneously decide the units of products to manufacture. The unit selling price depends on the total units produced. In this implementation, there are 2 firms competing for 1 period."</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $Constants</span></span>
<span><span class="co">## $Constants$NAME_IN_URL</span></span>
<span><span class="co">## [1] "cournot"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $Constants$PLAYERS_PER_GROUP</span></span>
<span><span class="co">## [1] 2</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $Constants$NUM_ROUNDS</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $Constants$TOTAL_CAPACITY</span></span>
<span><span class="co">## [1] 60</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $Constants$MAX_UNITS_PER_PLAYER</span></span>
<span><span class="co">## [1] "int(60 / 2)"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $Group</span></span>
<span><span class="co">## $Group$unit_price</span></span>
<span><span class="co">## $Group$unit_price$noargs</span></span>
<span><span class="co">## [1] TRUE</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $Group$unit_price$field</span></span>
<span><span class="co">## [1] "CurrencyField"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $Group$total_units</span></span>
<span><span class="co">## $Group$total_units$noargs</span></span>
<span><span class="co">## [1] FALSE</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $Group$total_units$doc</span></span>
<span><span class="co">## [1] "Total units produced by all players"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $Group$total_units$field</span></span>
<span><span class="co">## [1] "IntegerField"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $Player</span></span>
<span><span class="co">## $Player$units</span></span>
<span><span class="co">## $Player$units$noargs</span></span>
<span><span class="co">## [1] "FALSE"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $Player$units$min</span></span>
<span><span class="co">## [1] "0"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $Player$units$max</span></span>
<span><span class="co">## [1] "int(60 / 2)"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $Player$units$doc</span></span>
<span><span class="co">## [1] "Quantity of units to produce"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $Player$units$label</span></span>
<span><span class="co">## [1] "How many units will you produce (from 0 to 30)?"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $Player$units$field</span></span>
<span><span class="co">## [1] "IntegerField"</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="choosing-what-to-show">Choosing what to show<a class="anchor" aria-label="anchor" href="#choosing-what-to-show"></a>
</h2>
<div class="section level3">
<h3 id="apps">Apps<a class="anchor" aria-label="anchor" href="#apps"></a>
</h3>
<p>Per default, all apps are included in the codebook. To generate a
codebook for only one app, use the <code>app</code> argument. For
example, to generate a codebook for the <code>cournot</code> app:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cbook</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/ocode_new"</span>,</span>
<span>                     package <span class="op">=</span> <span class="st">"gmoTree"</span><span class="op">)</span>,</span>
<span>  fsource <span class="op">=</span> <span class="st">"init"</span>,</span>
<span>  output <span class="op">=</span> <span class="st">"list"</span>,</span>
<span>  doc_info <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  app <span class="op">=</span> <span class="st">"cournot"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">cbook</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## List of 2</span></span>
<span><span class="co">##  $ settings:List of 10</span></span>
<span><span class="co">##   ..$ variable                : num 66</span></span>
<span><span class="co">##   ..$ PARTICIPANT_FIELDS      : list()</span></span>
<span><span class="co">##   ..$ SESSION_FIELDS          : list()</span></span>
<span><span class="co">##   ..$ LANGUAGE_CODE           : chr "en"</span></span>
<span><span class="co">##   ..$ REAL_WORLD_CURRENCY_CODE: chr "USD"</span></span>
<span><span class="co">##   ..$ USE_POINTS              : chr "True"</span></span>
<span><span class="co">##   ..$ ADMIN_USERNAME          : chr "admin"</span></span>
<span><span class="co">##   ..$ ADMIN_PASSWORD          : chr "environ.get('OTREE_ADMIN_PASSWORD')"</span></span>
<span><span class="co">##   ..$ DEMO_PAGE_INTRO_HTML    : chr "Here are some oTree games."</span></span>
<span><span class="co">##   ..$ SECRET_KEY              : chr "9356668094877"</span></span>
<span><span class="co">##  $ cournot :List of 4</span></span>
<span><span class="co">##   ..$ doc      : chr "In Cournot competition, firms simultaneously decide the units of products to manufacture. The unit selling pric"| __truncated__</span></span>
<span><span class="co">##   ..$ Constants:List of 5</span></span>
<span><span class="co">##   .. ..$ NAME_IN_URL         : chr "cournot"</span></span>
<span><span class="co">##   .. ..$ PLAYERS_PER_GROUP   : num 2</span></span>
<span><span class="co">##   .. ..$ NUM_ROUNDS          : num 1</span></span>
<span><span class="co">##   .. ..$ TOTAL_CAPACITY      : num 60</span></span>
<span><span class="co">##   .. ..$ MAX_UNITS_PER_PLAYER: chr "int(60 / 2)"</span></span>
<span><span class="co">##   ..$ Group    :List of 2</span></span>
<span><span class="co">##   .. ..$ unit_price :List of 2</span></span>
<span><span class="co">##   .. .. ..$ noargs: logi TRUE</span></span>
<span><span class="co">##   .. .. ..$ field : chr "CurrencyField"</span></span>
<span><span class="co">##   .. ..$ total_units:List of 3</span></span>
<span><span class="co">##   .. .. ..$ noargs: logi FALSE</span></span>
<span><span class="co">##   .. .. ..$ doc   : chr "Total units produced by all players"</span></span>
<span><span class="co">##   .. .. ..$ field : chr "IntegerField"</span></span>
<span><span class="co">##   ..$ Player   :List of 1</span></span>
<span><span class="co">##   .. ..$ units:List of 6</span></span>
<span><span class="co">##   .. .. ..$ noargs: chr "FALSE"</span></span>
<span><span class="co">##   .. .. ..$ min   : chr "0"</span></span>
<span><span class="co">##   .. .. ..$ max   : chr "int(60 / 2)"</span></span>
<span><span class="co">##   .. .. ..$ doc   : chr "Quantity of units to produce"</span></span>
<span><span class="co">##   .. .. ..$ label : chr "How many units will you produce (from 0 to 30)?"</span></span>
<span><span class="co">##   .. .. ..$ field : chr "IntegerField"</span></span></code></pre>
<p>The code above returns a list with the app-specific information. You
can also generate codebooks for multiple apps by specifying them in the
<code>app</code> argument.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cbook</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/ocode_new"</span>,</span>
<span>                     package <span class="op">=</span> <span class="st">"gmoTree"</span><span class="op">)</span>,</span>
<span>  fsource <span class="op">=</span> <span class="st">"init"</span>,</span>
<span>  output <span class="op">=</span> <span class="st">"list"</span>,</span>
<span>  doc_info <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  app <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cournot"</span>, <span class="st">"dictator"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">cbook</span>, <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## List of 3</span></span>
<span><span class="co">##  $ settings:List of 10</span></span>
<span><span class="co">##  $ cournot :List of 4</span></span>
<span><span class="co">##  $ dictator:List of 4</span></span></code></pre>
<p>You can also choose all but remove one or more apps. Here is an
example that removes the app <code>prisoner</code>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cbook</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/ocode_new"</span>, package <span class="op">=</span> <span class="st">"gmoTree"</span><span class="op">)</span>,</span>
<span>  fsource <span class="op">=</span> <span class="st">"init"</span>,</span>
<span>  output <span class="op">=</span> <span class="st">"list"</span>,</span>
<span>  doc_info <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  app_rm <span class="op">=</span> <span class="st">"prisoner"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">cbook</span>, <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## List of 15</span></span>
<span><span class="co">##  $ settings            :List of 10</span></span>
<span><span class="co">##  $ bargaining          :List of 4</span></span>
<span><span class="co">##  $ bertrand            :List of 4</span></span>
<span><span class="co">##  $ common_value_auction:List of 4</span></span>
<span><span class="co">##  $ cournot             :List of 4</span></span>
<span><span class="co">##  $ dictator            :List of 4</span></span>
<span><span class="co">##  $ guess_two_thirds    :List of 4</span></span>
<span><span class="co">##  $ matching_pennies    :List of 4</span></span>
<span><span class="co">##  $ payment_info        :List of 4</span></span>
<span><span class="co">##  $ public_goods_simple :List of 3</span></span>
<span><span class="co">##  $ survey              :List of 3</span></span>
<span><span class="co">##  $ traveler_dilemma    :List of 4</span></span>
<span><span class="co">##  $ trust               :List of 3</span></span>
<span><span class="co">##  $ trust_simple        :List of 3</span></span>
<span><span class="co">##  $ volunteer_dilemma   :List of 4</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="otree-data-description">oTree data description<a class="anchor" aria-label="anchor" href="#otree-data-description"></a>
</h3>
<p>By setting the <code>preamb = TRUE</code> parameter, a predefined
description of oTree data is inserted at the beginning of the codebook,
explaining how experimental data is stored by oTree.</p>
<p><img src="intro.png" style="border:1px solid" alt="Introduction to oTree data picture"></p>
</div>
</div>
<div class="section level2">
<h2 id="customizing-how-the-codebook-is-shown">Customizing how the codebook is shown<a class="anchor" aria-label="anchor" href="#customizing-how-the-codebook-is-shown"></a>
</h2>
<div class="section level3">
<h3 id="customizing-the-codebook-titles-and-metadata">Customizing the codebook titles and metadata<a class="anchor" aria-label="anchor" href="#customizing-the-codebook-titles-and-metadata"></a>
</h3>
<p>You can easily modify the titles, subtitles, dates, and author names
in your codebooks using the following arguments:</p>
<pre><code><span><span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span></span>
<span>    path <span class="op">=</span> <span class="st">"YouroTreePath"</span>,  <span class="co"># Can be either absolute or relative!</span></span>
<span>    title <span class="op">=</span> <span class="st">"Codebook"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"Example Project"</span>,</span>
<span>    date <span class="op">=</span> <span class="st">"today"</span>,</span>
<span>    params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>author <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Max Mustermann"</span>, <span class="st">"John Doe"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre>
<p><img src="title.png" style="border:1px solid" alt="Image showing the title section in a PDF output"></p>
</div>
<div class="section level3">
<h3 id="sorting-the-code">Sorting the code<a class="anchor" aria-label="anchor" href="#sorting-the-code"></a>
</h3>
<p>You can sort the apps in the codebook by specifying the
<code>sort</code> argument. For example:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cbook</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/ocode_new"</span>, package <span class="op">=</span> <span class="st">"gmoTree"</span><span class="op">)</span>,</span>
<span>  fsource <span class="op">=</span> <span class="st">"init"</span>,</span>
<span>  output <span class="op">=</span> <span class="st">"list"</span>,</span>
<span>  doc_info <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  app <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cournot"</span>, <span class="st">"dictator"</span><span class="op">)</span>,</span>
<span>  sort <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dictator"</span>, <span class="st">"cournot"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">cbook</span>, <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## List of 3</span></span>
<span><span class="co">##  $ settings:List of 10</span></span>
<span><span class="co">##  $ dictator:List of 4</span></span>
<span><span class="co">##  $ cournot :List of 4</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="referring-to-settings">Referring to settings<a class="anchor" aria-label="anchor" href="#referring-to-settings"></a>
</h3>
<p>The <code>gmoTree</code> package can automatically replace references
to variables in <code>settings.py</code> with the values in the
<code>settings.py</code> file. To enable this, set
<code>settings_replace = "global"</code>.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cbook</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/ocode_new"</span>, package <span class="op">=</span> <span class="st">"gmoTree"</span><span class="op">)</span>,</span>
<span>  fsource <span class="op">=</span> <span class="st">"init"</span>,</span>
<span>  output <span class="op">=</span> <span class="st">"list"</span>,</span>
<span>  settings_replace <span class="op">=</span> <span class="st">"global"</span>,</span>
<span>  app <span class="op">=</span> <span class="st">"dictator"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Variables without documentation, label, or verbose name:</span></span>
<span><span class="co">## &gt; $dictator$Player$gender</span></span></code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">cbook</span><span class="op">$</span><span class="va">dictator</span><span class="op">$</span><span class="va">Constants</span><span class="op">$</span><span class="va">Variable</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 66</span></span></code></pre>
<p>You can also choose to not replace the references to settings
variables by using <code>settings_replace = NULL</code>.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cbook</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/ocode_new"</span>, package <span class="op">=</span> <span class="st">"gmoTree"</span><span class="op">)</span>,</span>
<span>  fsource <span class="op">=</span> <span class="st">"init"</span>,</span>
<span>  output <span class="op">=</span> <span class="st">"list"</span>,</span>
<span>  settings_replace <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  app <span class="op">=</span> <span class="st">"dictator"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Variables without documentation, label, or verbose name:</span></span>
<span><span class="co">## &gt; $dictator$Player$gender</span></span></code></pre>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">cbook</span><span class="op">$</span><span class="va">dictator</span><span class="op">$</span><span class="va">Constants</span><span class="op">$</span><span class="va">Variable</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "settings.variable"</span></span></code></pre>
<p>It is also possible to provide a list of variables to replace the
settings variables with the argument <code>user_settings</code>. For
example:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cbook</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/ocode_new"</span>, package <span class="op">=</span> <span class="st">"gmoTree"</span><span class="op">)</span>,</span>
<span>  fsource <span class="op">=</span> <span class="st">"init"</span>,</span>
<span>  output <span class="op">=</span> <span class="st">"list"</span>,</span>
<span>  settings_replace <span class="op">=</span> <span class="st">"user"</span>,</span>
<span>  user_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>variable <span class="op">=</span> <span class="st">"someValue"</span><span class="op">)</span>,</span>
<span>  app <span class="op">=</span> <span class="st">"dictator"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Variables without documentation, label, or verbose name:</span></span>
<span><span class="co">## &gt; $dictator$Player$gender</span></span></code></pre>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">cbook</span><span class="op">$</span><span class="va">dictator</span><span class="op">$</span><span class="va">Constants</span><span class="op">$</span><span class="va">Variable</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "someValue"</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="saving-your-codebook">Saving your codebook<a class="anchor" aria-label="anchor" href="#saving-your-codebook"></a>
</h2>
<p>When you choose <code>output = "file"</code> or
<code>output = "both"</code>, your codebook will be saved as a
professional document ready for publication or sharing.</p>
<div class="section level3">
<h3 id="output-formats">Output formats<a class="anchor" aria-label="anchor" href="#output-formats"></a>
</h3>
<p>The argument <code>output_format</code> allows you to choose the
format of the exported codebook file. Available formats are:</p>
<ul>
<li><code>html_document</code></li>
<li><code>word_document</code></li>
<li><code>latex_document</code></li>
<li><code>odt_document</code></li>
<li><code>rtf_document</code></li>
<li><code>md_document</code></li>
<li><code>pdf_document</code></li>
<li><code>pdf_document_simple</code></li>
</ul>
<p>You can choose the format that best suits your needs, with all
formats except PDF allowing easy post-generation editing.</p>
<p>When knitting to PDF, make sure to have LaTex installed! It is
recommended to use <code>output_format = pdf_document_simple</code>.
However, many non-Latin characters (e.g., Chinese characters) may not
work with this format. In such cases, you can choose
<code>output_format = pdf_document</code>, which is set to use
<code>xelatex</code>.</p>
<p>Please note that using <code>xelatex</code> with gmoTree has some
limitations: for example, <code>gmoTree</code> currently cannot handle
long variable values that result in excessively long table cells. This
can cause the PDF to display improperly in certain viewers, such as
Nitro. To address this, carefully review your file. If necessary,
consider using <code>output_format = latex_document</code>.
Alternatively, open the file with a PDF viewer that can handle these
cases, then save it there to ensure it displays correctly in other PDF
viewers.</p>
</div>
<div class="section level3">
<h3 id="output-files">Output files<a class="anchor" aria-label="anchor" href="#output-files"></a>
</h3>
<p>By default, <code>gmoTree</code> codebooks are saved in your working
directory with the default file name <code>codebook</code>. You can
modify this by specifying a custom file name and directory path.</p>
<p>For example, to save the codebook with a different name, use the
following code:</p>
<pre><code><span><span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span></span>
<span>    path <span class="op">=</span> <span class="st">"C:/Users/username/folder/oTree"</span>,  <span class="co"># Replace!</span></span>
<span>    output_file <span class="op">=</span> <span class="st">"gmoTree_codebook"</span><span class="op">)</span></span></code></pre>
<p>You can also include the file extension, although it is optional:</p>
<pre><code><span><span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span></span>
<span>    path <span class="op">=</span> <span class="st">"C:/Users/username/folder/oTree"</span>,  <span class="co"># Replace!</span></span>
<span>    output_file <span class="op">=</span> <span class="st">"gmoTree_codebook.pdf"</span><span class="op">)</span></span></code></pre>
<p>You can save the file in a subfolder within the current directory by
including the absolute or relative folder name in the
<code>output_file</code> argument. For example:</p>
<pre><code><span><span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span></span>
<span>    path <span class="op">=</span> <span class="st">"C:/Users/username/folder/oTree"</span>,  <span class="co"># Replace!</span></span>
<span>    output_file <span class="op">=</span> <span class="st">"codebookfiles/gmoTree_codebook.pdf"</span><span class="op">)</span></span></code></pre>
<p>You can also specify absolute paths, either in the
<code>output_dir</code> argument or directly within the file name
specified in the <code>output_file</code>. For example:</p>
<pre><code><span><span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span></span>
<span>    path <span class="op">=</span> <span class="st">"C:/Users/username/folder/oTree"</span>,  <span class="co"># Replace!</span></span>
<span>    output_dir  <span class="op">=</span> <span class="st">"C:/Users/username/folder/codebooks"</span>,</span>
<span>    output_file <span class="op">=</span> <span class="st">"mycodebook"</span><span class="op">)</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h2>
<p>This vignette documents how to customize the codebook generated by
the <code><a href="../reference/codebook.html">codebook()</a></code> function, including options for content
selection, formatting, and exporting to various formats. These tools
enable the creation of comprehensive and tailored documentation for your
experimental data.</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Chen, D. L., Schonger, M., &amp; Wickens, C. (2016). oTree—An
open-source platform for laboratory, online, and field experiments.
<em>Journal of Behavioral and Experimental Finance</em>, <em>9</em>,
88–97. <a href="https://doi.org/10.1016/j.jbef.2015.12.001" class="external-link uri">https://doi.org/10.1016/j.jbef.2015.12.001</a></p>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p><a href="impressum.html">Site notice</a></p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
