<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Delete specific cases — delete_cases • gmoTree</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Delete specific cases — delete_cases"><meta property="og:description" content="Delete specific cases from all data frames in the oTree list.
Caution 1: This function does not delete cases from the original
CSV and Excel files!
Caution 2: This function does not delete cases from custom exports
and custom data frames if these data frames do not have a variable
named participant.code!
Caution 3: This function does not delete any data from the Chats data frame!
(As the interpretation of chat data depends on how participants
engage with each other, the data must be deleted
with more care than deleting data in other apps.
Hence, this function does not delete data in this data frame.
Please do this manually if necessary!)"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gmoTree</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/intro_to_gmoTree.html">Introduction to gmoTree</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ZauchnerP/gmoTree/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Delete specific cases</h1>
    <small class="dont-index">Source: <a href="https://github.com/ZauchnerP/gmoTree/blob/HEAD/R/delete_cases.R" class="external-link"><code>R/delete_cases.R</code></a></small>
    <div class="hidden name"><code>delete_cases.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Delete specific cases from all data frames in the oTree list.</p>
<p>Caution 1: This function does not delete cases from the original
CSV and Excel files!</p>
<p>Caution 2: This function does not delete cases from custom exports
and custom data frames if these data frames do not have a variable
named participant.code!</p>
<p>Caution 3: This function does not delete any data from the Chats data frame!
(As the interpretation of chat data depends on how participants
engage with each other, the data must be deleted
with more care than deleting data in other apps.
Hence, this function does not delete data in this data frame.
Please do this manually if necessary!)</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">delete_cases</span><span class="op">(</span></span>
<span>  <span class="va">oTree</span>,</span>
<span>  pcodes <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  plabels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  saved_vars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">reason</span>,</span>
<span>  omit <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  info <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>oTree</dt>
<dd><p>A list of data frames that were created by import_otree().</p></dd>


<dt>pcodes</dt>
<dd><p>Character. The value(s) of the participant.code variable of
the participants whose data should be removed.</p></dd>


<dt>plabels</dt>
<dd><p>Character. The value(s) of the participant.label variable of
the participants whose data should be removed.</p></dd>


<dt>saved_vars</dt>
<dd><p>Character. The name(s) of variable(s) that need(s) to be
stored in the list of information on deleted cases in $info$deleted_cases.</p></dd>


<dt>reason</dt>
<dd><p>Character. The reason for deletion that should be stored in
the list of information on deleted cases in $info$deleted_cases.</p></dd>


<dt>omit</dt>
<dd><p>Logical. TRUE if the deleted cases should not be added to
the information on deleted cases in $info$deleted_cases.</p></dd>


<dt>info</dt>
<dd><p>Logical. TRUE if a brief information on the case deletion
process should be printed.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>This function returns a duplicate of the original oTree list
of data frames that do not include the deleted cases.</p>


<p>It adds information on the deleted cases to $info$deleted_cases. (This
list is also filled by other functions.)</p>


<p>In this list, you can find the following information:</p>


<p>$codes = A vector with the participant codes of all deleted cases.</p>


<p>$count = The number of participants in $codes.</p>


<p>$full and $unique = The data frames $full and $unique contain information
on each deleted participant and the reason why they were
deleted. The entries to the $full and the $unique data frames are the same.
Columns "end_app" and "end_page" are left empty intentionally
because they are only filled by the delete_dropouts() function.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Use package-internal list of oTree data frames</span></span></span>
<span class="r-in"><span><span class="va">oTree</span> <span class="op">&lt;-</span> <span class="fu">gmoTree</span><span class="fu">::</span><span class="va"><a href="oTree.html">oTree</a></span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># First, show some row numbers</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">oTree</span><span class="op">$</span><span class="va">all_apps_wide</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">oTree</span><span class="op">$</span><span class="va">survey</span><span class="op">)</span>,</span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">oTree</span><span class="op">$</span><span class="va">Time</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">oTree</span><span class="op">$</span><span class="va">Chats</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "29 25 289 35"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Delete only one case</span></span></span>
<span class="r-in"><span><span class="va">oTree2</span> <span class="op">&lt;-</span> <span class="fu">delete_cases</span><span class="op">(</span><span class="va">oTree</span>,</span></span>
<span class="r-in"><span>                       pcodes <span class="op">=</span> <span class="st">"xmxl46rm"</span>,</span></span>
<span class="r-in"><span>                       reason <span class="op">=</span> <span class="st">"requested"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show row numbers again</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">oTree2</span><span class="op">$</span><span class="va">all_apps_wide</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">oTree2</span><span class="op">$</span><span class="va">survey</span><span class="op">)</span>,</span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">oTree2</span><span class="op">$</span><span class="va">Time</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">oTree2</span><span class="op">$</span><span class="va">Chats</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "28 24 275 35"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Delete several cases</span></span></span>
<span class="r-in"><span><span class="va">deletionlist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"4zhzdmzo"</span>, <span class="st">"xmxl46rm"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">oTree2</span> <span class="op">&lt;-</span> <span class="fu">delete_cases</span><span class="op">(</span><span class="va">oTree</span>,</span></span>
<span class="r-in"><span>                       pcodes <span class="op">=</span> <span class="va">deletionlist</span>,</span></span>
<span class="r-in"><span>                       reason <span class="op">=</span> <span class="st">"requested"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show row numbers again</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">oTree2</span><span class="op">$</span><span class="va">all_apps_wide</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">oTree2</span><span class="op">$</span><span class="va">survey</span><span class="op">)</span>,</span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">oTree2</span><span class="op">$</span><span class="va">Time</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">oTree2</span><span class="op">$</span><span class="va">Chats</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "27 23 258 35"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show information on all deleted cases (also dropouts):</span></span></span>
<span class="r-in"><span><span class="va">oTree2</span><span class="op">$</span><span class="va">info</span><span class="op">$</span><span class="va">deleted_cases</span><span class="op">$</span><span class="va">full</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    participant.code  session end_app end_page    reason</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3          4zhzdmzo 7bfqtokx                  requested</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12         xmxl46rm vd1h01iv                  requested</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Save one variable</span></span></span>
<span class="r-in"><span><span class="va">oTree2</span> <span class="op">&lt;-</span> <span class="fu">delete_cases</span><span class="op">(</span><span class="va">oTree</span>,</span></span>
<span class="r-in"><span>  pcodes <span class="op">=</span> <span class="va">deletionlist</span>,</span></span>
<span class="r-in"><span>  reason <span class="op">=</span> <span class="st">"requested"</span>,</span></span>
<span class="r-in"><span>  saved_vars <span class="op">=</span> <span class="st">"participant._index_in_pages"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show row numbers again</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">oTree2</span><span class="op">$</span><span class="va">all_apps_wide</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">oTree2</span><span class="op">$</span><span class="va">survey</span><span class="op">)</span>,</span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">oTree2</span><span class="op">$</span><span class="va">Time</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">oTree2</span><span class="op">$</span><span class="va">Chats</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "27 23 258 35"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Save some variables</span></span></span>
<span class="r-in"><span><span class="va">oTree2</span> <span class="op">&lt;-</span> <span class="fu">delete_cases</span><span class="op">(</span><span class="va">oTree</span>,</span></span>
<span class="r-in"><span>  pcodes <span class="op">=</span> <span class="va">deletionlist</span>,</span></span>
<span class="r-in"><span>  reason <span class="op">=</span> <span class="st">"requested"</span>,</span></span>
<span class="r-in"><span>  saved_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"participant._index_in_pages"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"participant._max_page_index"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show row numbers again</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">oTree2</span><span class="op">$</span><span class="va">all_apps_wide</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">oTree2</span><span class="op">$</span><span class="va">survey</span><span class="op">)</span>,</span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">oTree2</span><span class="op">$</span><span class="va">Time</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">oTree2</span><span class="op">$</span><span class="va">Chats</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "27 23 258 35"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get a list of all deleted cases</span></span></span>
<span class="r-in"><span><span class="co"># (If there is already a list, the new list is added to it)</span></span></span>
<span class="r-in"><span><span class="va">oTree2</span><span class="op">$</span><span class="va">info</span><span class="op">$</span><span class="va">deleted_cases</span><span class="op">$</span><span class="va">codes</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "4zhzdmzo" "xmxl46rm"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show number of all deleted cases</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">oTree2</span><span class="op">$</span><span class="va">info</span><span class="op">$</span><span class="va">deleted_cases</span><span class="op">$</span><span class="va">codes</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2</span>
<span class="r-in"><span><span class="va">oTree2</span><span class="op">$</span><span class="va">info</span><span class="op">$</span><span class="va">deleted_cases</span><span class="op">$</span><span class="va">count</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Patricia F. Zauchner.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

