<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Assign a variable to all_apps_wide — assignv_to_aaw • gmoTree</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Assign a variable to all_apps_wide — assignv_to_aaw"><meta property="og:description" content="Assign a variable from one of the app data frames to all_apps_wide."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gmoTree</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/intro_to_gmoTree.html">Introduction to gmoTree</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ZauchnerP/gmoTree/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Assign a variable to all_apps_wide</h1>
    <small class="dont-index">Source: <a href="https://github.com/ZauchnerP/gmoTree/blob/HEAD/R/assignv_to_aaw.R" class="external-link"><code>R/assignv_to_aaw.R</code></a></small>
    <div class="hidden name"><code>assignv_to_aaw.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Assign a variable from one of the app data frames to all_apps_wide.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">assignv_to_aaw</span><span class="op">(</span><span class="va">oTree</span>, <span class="va">app</span>, <span class="va">variable</span>, <span class="va">newvar</span>, resafter <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>oTree</dt>
<dd><p>A list of data frames that were created by import_otree().</p></dd>


<dt>app</dt>
<dd><p>Character. The data frame from which the variable is taken.</p></dd>


<dt>variable</dt>
<dd><p>Character.
The name of the variable that should be assigned to all_apps_wide.</p></dd>


<dt>newvar</dt>
<dd><p>Character.
The name of the newly created variable in the all_apps_wide data frame.</p></dd>


<dt>resafter</dt>
<dd><p>Character.
The name of the variable that precedes the new variable.
If NULL, the new variable will be placed at the end of the data frame.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>This function returns a duplicate of the original oTree list of
data frames but with an additional column in the all_apps_wide data frame
that contains the variable in question.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Use package-internal list of oTree data frames</span></span></span>
<span class="r-in"><span><span class="va">oTree</span> <span class="op">&lt;-</span> <span class="fu">gmoTree</span><span class="fu">::</span><span class="va"><a href="oTree.html">oTree</a></span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a new variable</span></span></span>
<span class="r-in"><span><span class="va">oTree</span><span class="op">$</span><span class="va">survey</span><span class="op">$</span><span class="va">younger30</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">oTree</span><span class="op">$</span><span class="va">survey</span><span class="op">$</span><span class="va">player.age</span> <span class="op">&lt;</span> <span class="fl">30</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Assign the variable younger30 to all_apps_wide</span></span></span>
<span class="r-in"><span><span class="va">oTree2</span> <span class="op">&lt;-</span> <span class="fu">assignv_to_aaw</span><span class="op">(</span></span></span>
<span class="r-in"><span>  oTree <span class="op">=</span> <span class="va">oTree</span>,</span></span>
<span class="r-in"><span>  app <span class="op">=</span> <span class="st">"survey"</span>,</span></span>
<span class="r-in"><span>  variable <span class="op">=</span> <span class="st">"younger30"</span>,</span></span>
<span class="r-in"><span>  newvar <span class="op">=</span> <span class="st">"younger30"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>New variable is created. However, there is an unequal number of participants in "all_apps_wide" (29) and app "survey" (25). Did you forget to delete dropouts and empty cases or did you forget to import app data? Sometimes, this can happen if you import data from within a session or room where you can only import "all_apps_wide" but not the separate app data, time data or chat data.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show the new variable in the all_apps_wide data frame</span></span></span>
<span class="r-in"><span><span class="va">oTree2</span><span class="op">$</span><span class="va">all_apps_wide</span><span class="op">$</span><span class="va">younger30</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  0  0  0  0  1  1 NA  1 NA  1  0 NA NA  0 NA  1  0  0  0 NA NA NA NA  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] NA NA NA NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check the position of the new variable</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/match.html" class="external-link">match</a></span><span class="op">(</span><span class="st">"younger30"</span>,<span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">oTree2</span><span class="op">$</span><span class="va">all_apps_wide</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 56</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Place the new variable immediately after the "survey.1.player.age" variable</span></span></span>
<span class="r-in"><span><span class="va">oTree2</span> <span class="op">&lt;-</span> <span class="fu">assignv_to_aaw</span><span class="op">(</span><span class="va">oTree</span>,</span></span>
<span class="r-in"><span>                        app <span class="op">=</span> <span class="st">"survey"</span>,</span></span>
<span class="r-in"><span>                        variable <span class="op">=</span> <span class="st">"younger30"</span>,</span></span>
<span class="r-in"><span>                        newvar <span class="op">=</span> <span class="st">"younger30"</span>,</span></span>
<span class="r-in"><span>                        resafter <span class="op">=</span> <span class="st">"survey.1.player.age"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>New variable is created. However, there is an unequal number of participants in "all_apps_wide" (29) and app "survey" (25). Did you forget to delete dropouts and empty cases or did you forget to import app data? Sometimes, this can happen if you import data from within a session or room where you can only import "all_apps_wide" but not the separate app data, time data or chat data.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show the new variable in the all_apps_wide data frame</span></span></span>
<span class="r-in"><span><span class="va">oTree2</span><span class="op">$</span><span class="va">all_apps_wide</span><span class="op">$</span><span class="va">younger30</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  0  0  0  0  1  1 NA  1 NA  1  0 NA NA  0 NA  1  0  0  0 NA NA NA NA  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] NA NA NA NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show the position of the new variable</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/match.html" class="external-link">match</a></span><span class="op">(</span><span class="st">"younger30"</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">oTree2</span><span class="op">$</span><span class="va">all_apps_wide</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 50</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p><a href="impressum.html">Site notice</a></p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

