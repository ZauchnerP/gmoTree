<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Assign a variable from one of the app data frames to $all_apps_wide."><title>Assign a variable to all_apps_wide — assignv_to_aaw • gmoTree</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Assign a variable to all_apps_wide — assignv_to_aaw"><meta property="og:description" content="Assign a variable from one of the app data frames to $all_apps_wide."><meta property="og:image" content="https://zauchnerp.github.io/gmoTree/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">gmoTree</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/intro_to_gmoTree.html">Introduction to gmoTree</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ZauchnerP/gmoTree/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Assign a variable to all_apps_wide</h1>
      <small class="dont-index">Source: <a href="https://github.com/ZauchnerP/gmoTree/blob/HEAD/R/assignv_to_aaw.R" class="external-link"><code>R/assignv_to_aaw.R</code></a></small>
      <div class="d-none name"><code>assignv_to_aaw.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Assign a variable from one of the app data frames to <code>$all_apps_wide</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">assignv_to_aaw</span><span class="op">(</span><span class="va">oTree</span>, <span class="va">app</span>, <span class="va">variable</span>, <span class="va">newvar</span>, resafter <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>oTree</dt>
<dd><p>A list of data frames that were created 
by <code><a href="import_otree.html">import_otree</a></code>.</p></dd>


<dt>app</dt>
<dd><p>Character. The data frame from which the variable is taken.</p></dd>


<dt>variable</dt>
<dd><p>Character.
The name of the variable that should be assigned to <code>$all_apps_wide</code>.</p></dd>


<dt>newvar</dt>
<dd><p>Character.
The name of the newly created variable in the <code>$all_apps_wide</code> data 
frame.</p></dd>


<dt>resafter</dt>
<dd><p>Character.
The name of the variable that precedes the new variable.
If <code>NULL</code>, the new variable will be placed at the end of the data frame.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>This function returns a duplicate of the original oTree list of
data frames but with an additional column in the <code>$all_apps_wide</code> data 
frame that contains the variable in question.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Use package-internal list of oTree data frames</span></span></span>
<span class="r-in"><span><span class="va">oTree</span> <span class="op">&lt;-</span> <span class="fu">gmoTree</span><span class="fu">::</span><span class="va"><a href="oTree.html">oTree</a></span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a new variable</span></span></span>
<span class="r-in"><span><span class="va">oTree</span><span class="op">$</span><span class="va">survey</span><span class="op">$</span><span class="va">younger30</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">oTree</span><span class="op">$</span><span class="va">survey</span><span class="op">$</span><span class="va">player.age</span> <span class="op">&lt;</span> <span class="fl">30</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Assign the variable younger30 to all_apps_wide</span></span></span>
<span class="r-in"><span><span class="va">oTree2</span> <span class="op">&lt;-</span> <span class="fu">assignv_to_aaw</span><span class="op">(</span></span></span>
<span class="r-in"><span>  oTree <span class="op">=</span> <span class="va">oTree</span>,</span></span>
<span class="r-in"><span>  app <span class="op">=</span> <span class="st">"survey"</span>,</span></span>
<span class="r-in"><span>  variable <span class="op">=</span> <span class="st">"younger30"</span>,</span></span>
<span class="r-in"><span>  newvar <span class="op">=</span> <span class="st">"younger30"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>New variable is created. However, there is an unequal number of participants in "all_apps_wide" (29) and app "survey" (25). Did you forget to delete dropouts and empty cases or did you forget to import app data? Sometimes, this can happen if you import data from within a session or room where you can only import "all_apps_wide" but not the separate app data, time data or chat data.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show the new variable in the all_apps_wide data frame</span></span></span>
<span class="r-in"><span><span class="va">oTree2</span><span class="op">$</span><span class="va">all_apps_wide</span><span class="op">$</span><span class="va">younger30</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  0  0  0  0  1  1 NA  1 NA  1  0 NA NA  0 NA  1  0  0  0 NA NA NA NA  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] NA NA NA NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check the position of the new variable</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/match.html" class="external-link">match</a></span><span class="op">(</span><span class="st">"younger30"</span>,<span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">oTree2</span><span class="op">$</span><span class="va">all_apps_wide</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 56</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Place the new variable immediately after the "survey.1.player.age" variable</span></span></span>
<span class="r-in"><span><span class="va">oTree2</span> <span class="op">&lt;-</span> <span class="fu">assignv_to_aaw</span><span class="op">(</span><span class="va">oTree</span>,</span></span>
<span class="r-in"><span>                        app <span class="op">=</span> <span class="st">"survey"</span>,</span></span>
<span class="r-in"><span>                        variable <span class="op">=</span> <span class="st">"younger30"</span>,</span></span>
<span class="r-in"><span>                        newvar <span class="op">=</span> <span class="st">"younger30"</span>,</span></span>
<span class="r-in"><span>                        resafter <span class="op">=</span> <span class="st">"survey.1.player.age"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>New variable is created. However, there is an unequal number of participants in "all_apps_wide" (29) and app "survey" (25). Did you forget to delete dropouts and empty cases or did you forget to import app data? Sometimes, this can happen if you import data from within a session or room where you can only import "all_apps_wide" but not the separate app data, time data or chat data.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show the new variable in the all_apps_wide data frame</span></span></span>
<span class="r-in"><span><span class="va">oTree2</span><span class="op">$</span><span class="va">all_apps_wide</span><span class="op">$</span><span class="va">younger30</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  0  0  0  0  1  1 NA  1 NA  1  0 NA NA  0 NA  1  0  0  0 NA NA NA NA  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] NA NA NA NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show the position of the new variable</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/match.html" class="external-link">match</a></span><span class="op">(</span><span class="st">"younger30"</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">oTree2</span><span class="op">$</span><span class="va">all_apps_wide</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 50</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p><a href="impressum.html">Site notice</a></p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

